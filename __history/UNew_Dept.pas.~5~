unit UNew_Dept;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, RzButton, Vcl.ExtCtrls;

type
  TFNew_Dept = class(TForm)
    Edkd: TEdit;
    Panel2: TPanel;
    BBatal: TRzBitBtn;
    BSimpan: TRzBitBtn;
    EdDept: TEdit;
    Label8: TLabel;
    Label7: TLabel;
    Label2: TLabel;
    Label1: TLabel;
    procedure BBatalClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
    procedure Autonumber;
  end;

var
  FNew_Dept: TFNew_Dept;
  Status:integer;

implementation

{$R *.dfm}

uses UDataModule, UDept;


Procedure TFNew_Dept.Autonumber;
begin
  with dm.Qtemp do
  begin
  close;
  sql.clear;
  sql.Text:='select max(dept_code)as no from t_dept';
  ExecSQL;
  end;
  Edkd.Text:=Dm.Qtemp['no'] + 1;
end;

procedure TFNew_Dept.BBatalClick(Sender: TObject);
begin
  Close;
  //FDept.dxbarRefreshClick(sender);
  FDept.ActROExecute(sender);
end;

end.
